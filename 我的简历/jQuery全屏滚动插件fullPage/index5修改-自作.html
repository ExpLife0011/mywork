<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
<title>fullPage.js — 回调函数演示</title>
<link rel="stylesheet" href="css/jquery.fullPage.css">
<style>
.section { text-align: center; font: 50px "Microsoft Yahei"; color:#fff;}
/*section1*/
.section1{
	background:url(images/1.jpg);
}
/*section2*/
.section2{
	background:url(images/2.jpg);
}
.section2 p { position: relative; left: -120%;}
.section2 .img1{position:relative; left:-120%;}
.section2 .img2{position:relative; right:-120%;}
/*section3*/
.section3{
	background:url(images/3.jpg);
}
.section3 p { position: relative; bottom: -120%;}
/*section4*/
.section4{
	background:url(images/4.jpg);
}
.section4 p { display: none;}
</style>
<script src="js/jquery-1.8.3.min.js"></script>
<script src="js/jquery-ui-1.10.3.min.js"></script>
<script src="js/jquery.fullPage.min.js"></script>
<script>
$(document).ready(function() {
	$.fn.fullpage({
		//slidesColor: ['#1bbc9b', '#4BBFC3', '#7BAABE', '#f90', '#ef820'],
		css3:true,
		loopBottom:true,
		anchors: ['page1', 'page2', 'page3', 'page4', 'page5'],
        
		//autoScrolling: true;
		verticalCentered:true,//是否居中
		afterLoad: function(anchorLink,index){/*滚动后的回调函数*/
			if(index == 2){
				$('.section2').find('p').delay(500).animate({
					left: '0'
				}, 1500,'easeOutExpo');
				$('.section2').find('.img1').delay(500).animate({left:'0'},1500,'easeOutExpo');
				$('.section2').find('.img2').delay(500).animate({right:'0'},1500,'easeOutExpo');
			}
			if(index == 3){
				$('.section3').find('p').delay(500).animate({
					bottom: '0'
				}, 1500, 'easeOutExpo');
			}
			if(index == 4){
				$('.section4').find('p').fadeIn(2000);
			}
		},
		onLeave: function(index, direction){/*滚动前的回调函数*/
			if(index == '2'){
				$('.section2').find('p').delay(500).animate({
					left: '-120%'
				}, 1500, 'easeOutExpo');
				$('.section2').find('.img1').delay(500).animate({left:'-70%'},1500,'easeOutExpo');
				$('.section2').find('.img2').delay(500).animate({right:'-70%'},1500,'easeOutExpo');
			}
			if(index == '3'){
				$('.section3').find('p').delay(500).animate({
					bottom: '-120%'
				}, 1500, 'easeOutExpo');
			}
			if(index == '4'){
				$('.section4').find('p').fadeOut(2000);
			}
		}//onleave
	});//fullpage
});
</script>
</head>

<body>
<div class="section section1">
	<h3>第一屏</h3>
	<p>fullPage.js — 回调函数演示</p>
</div>
<div class="section section2">
	<h3>第二屏</h3>
	<p>滚动到第二屏后的回调函数执行的效果</p>
    <img class="img1" src="images/iphone-green.png">
    <img class="img2" src="images/iphone-yellow.png">
</div>
<div class="section section3">
	<h3>第三屏</h3>
	<p>滚动到第三屏后的回调函数执行的效果</p>
</div>
<div class="section section4">
	<h3>第四屏</h3>
	<p>滚动到第四屏后的回调函数执行的效果</p>
</div>

</body>
</html>